const path = require('path');
const express = require('express');
const app = express();
const mysql = require('mysql');

app.listen(3000, () => console.log('Listening on port 3000!'));
app.use(express.static('public'));

// Request Handlers
app.post('/', (req, res) => {
	console.log(req.method, req.path);
	res.statusCode = 201;
	res.setHeader('content-type', 'application/json');

	// DB Connection
	var connection = mysql.createConnection({
		host: 'localhost',
		user: 'root',
		password: 'password',
		database: 'challenge_3'
	});

	connection.connect();

	connection.query('SELECT * FROM userInfo', function (err, rows, fields) {
		if (err) {
			console.log(err);
		} else {
			console.log(rows);
			res.send(rows[0]);
		}
	});

	connection.end();
	// res.send();
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NlcnZlci5qcyJdLCJuYW1lcyI6WyJwYXRoIiwicmVxdWlyZSIsImV4cHJlc3MiLCJhcHAiLCJteXNxbCIsImxpc3RlbiIsImNvbnNvbGUiLCJsb2ciLCJ1c2UiLCJzdGF0aWMiLCJwb3N0IiwicmVxIiwicmVzIiwibWV0aG9kIiwic3RhdHVzQ29kZSIsInNldEhlYWRlciIsImNvbm5lY3Rpb24iLCJjcmVhdGVDb25uZWN0aW9uIiwiaG9zdCIsInVzZXIiLCJwYXNzd29yZCIsImRhdGFiYXNlIiwiY29ubmVjdCIsInF1ZXJ5IiwiZXJyIiwicm93cyIsImZpZWxkcyIsInNlbmQiLCJlbmQiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE9BQU9DLFFBQVEsTUFBUixDQUFiO0FBQ0EsTUFBTUMsVUFBVUQsUUFBUSxTQUFSLENBQWhCO0FBQ0EsTUFBTUUsTUFBTUQsU0FBWjtBQUNBLE1BQU1FLFFBQVFILFFBQVEsT0FBUixDQUFkOztBQUdBRSxJQUFJRSxNQUFKLENBQVcsSUFBWCxFQUFpQixNQUFNQyxRQUFRQyxHQUFSLENBQVkseUJBQVosQ0FBdkI7QUFDQUosSUFBSUssR0FBSixDQUFRTixRQUFRTyxNQUFSLENBQWUsUUFBZixDQUFSOztBQUVBO0FBQ0FOLElBQUlPLElBQUosQ0FBUyxHQUFULEVBQWMsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEtBQWM7QUFDM0JOLFNBQVFDLEdBQVIsQ0FBWUksSUFBSUUsTUFBaEIsRUFBd0JGLElBQUlYLElBQTVCO0FBQ0FZLEtBQUlFLFVBQUosR0FBaUIsR0FBakI7QUFDQUYsS0FBSUcsU0FBSixDQUFjLGNBQWQsRUFBOEIsa0JBQTlCOztBQUVBO0FBQ0EsS0FBSUMsYUFBYVosTUFBTWEsZ0JBQU4sQ0FBdUI7QUFDdkNDLFFBQVcsV0FENEI7QUFFdkNDLFFBQVcsTUFGNEI7QUFHdkNDLFlBQVcsVUFINEI7QUFJdkNDLFlBQVc7QUFKNEIsRUFBdkIsQ0FBakI7O0FBT0FMLFlBQVdNLE9BQVg7O0FBRUFOLFlBQVdPLEtBQVgsQ0FBaUIsd0JBQWpCLEVBQTJDLFVBQVVDLEdBQVYsRUFBZUMsSUFBZixFQUFxQkMsTUFBckIsRUFBNkI7QUFDdkUsTUFBSUYsR0FBSixFQUFTO0FBQ1JsQixXQUFRQyxHQUFSLENBQVlpQixHQUFaO0FBQ0EsR0FGRCxNQUVPO0FBQ05sQixXQUFRQyxHQUFSLENBQVlrQixJQUFaO0FBQ0FiLE9BQUllLElBQUosQ0FBU0YsS0FBSyxDQUFMLENBQVQ7QUFDQTtBQUNELEVBUEQ7O0FBU0FULFlBQVdZLEdBQVg7QUFDQTtBQUNBLENBMUJEIiwiZmlsZSI6InNlcnZlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5jb25zdCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xuY29uc3QgYXBwID0gZXhwcmVzcygpO1xuY29uc3QgbXlzcWwgPSByZXF1aXJlKCdteXNxbCcpO1xuXG5cbmFwcC5saXN0ZW4oMzAwMCwgKCkgPT4gY29uc29sZS5sb2coJ0xpc3RlbmluZyBvbiBwb3J0IDMwMDAhJykpO1xuYXBwLnVzZShleHByZXNzLnN0YXRpYygncHVibGljJykpO1xuXG4vLyBSZXF1ZXN0IEhhbmRsZXJzXG5hcHAucG9zdCgnLycsIChyZXEsIHJlcykgPT4ge1xuXHRjb25zb2xlLmxvZyhyZXEubWV0aG9kLCByZXEucGF0aCk7XG5cdHJlcy5zdGF0dXNDb2RlID0gMjAxO1xuXHRyZXMuc2V0SGVhZGVyKCdjb250ZW50LXR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXG5cdC8vIERCIENvbm5lY3Rpb25cblx0dmFyIGNvbm5lY3Rpb24gPSBteXNxbC5jcmVhdGVDb25uZWN0aW9uKHtcblx0XHRob3N0ICAgICA6ICdsb2NhbGhvc3QnLFxuXHRcdHVzZXIgICAgIDogJ3Jvb3QnLFxuXHRcdHBhc3N3b3JkIDogJ3Bhc3N3b3JkJyxcblx0XHRkYXRhYmFzZSA6ICdjaGFsbGVuZ2VfMydcblx0fSk7XG5cblx0Y29ubmVjdGlvbi5jb25uZWN0KCk7XG5cblx0Y29ubmVjdGlvbi5xdWVyeSgnU0VMRUNUICogRlJPTSB1c2VySW5mbycsIGZ1bmN0aW9uIChlcnIsIHJvd3MsIGZpZWxkcykge1xuXHRcdGlmIChlcnIpIHtcblx0XHRcdGNvbnNvbGUubG9nKGVycik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnNvbGUubG9nKHJvd3MpO1xuXHRcdFx0cmVzLnNlbmQocm93c1swXSk7XG5cdFx0fVxuXHR9KTtcblxuXHRjb25uZWN0aW9uLmVuZCgpO1xuXHQvLyByZXMuc2VuZCgpO1xufSk7XG5cbiJdfQ==